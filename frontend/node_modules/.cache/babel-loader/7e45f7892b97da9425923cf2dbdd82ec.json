{"ast":null,"code":"var _jsxFileName = \"G:\\\\RecoveroAssignment\\\\frontend\\\\src\\\\components\\\\Articles.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Nav from \"./Navbar\";\nimport Card from \"./Card\";\nimport Indarticle from \"./Indarticle\";\nimport { Grid, GridItem } from \"@chakra-ui/react\";\nimport { transdata } from \"./Navbar\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Articles() {\n  _s();\n\n  const [data, setdata] = useState([]);\n  const selector = useSelector(state => state.data);\n  const isLoading = useSelector(state => state.isLoading); //\n\n  const getdata = () => {\n    axios.get(\"http://localhost:8080/blog\", {\n      headers: {\n        Authorization: `bearer ${token}`\n      }\n    }).then(res => {\n      setdata([...res.data]);\n    });\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    getdata();\n    console.log(\"usefecct calling\");\n\n    if (selector.length > 0) {\n      setTimeout(() => {\n        setdata([...selector]);\n      }, 500);\n    }\n\n    if (isLoading) {\n      getdata();\n    }\n  }, [selector, isLoading]);\n\n  function deleteitem(id) {\n    axios.delete(`http://localhost:8080/blogs/${id}`).then(res => {\n      console.log(res.data);\n      getdata();\n    });\n  }\n\n  const token = localStorage.getItem(\"token\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: token ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(3,1fr)\"\n        },\n        children: [console.log(data), data.map(elem => {\n          return /*#__PURE__*/_createElement(Indarticle, { ...elem,\n            deleteitem: deleteitem,\n            key: elem._id,\n            getdata: getdata,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 9\n            }\n          });\n          {\n            /* </div> */\n          }\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true) : alert(\"please log in first\")\n  }, void 0, false);\n}\n\n_s(Articles, \"ROpu0tZ9bDDRqbkK5NSTcNJcv4I=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Articles;\nexport default Articles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Articles\");","map":{"version":3,"names":["axios","React","useState","useEffect","Nav","Card","Indarticle","Grid","GridItem","transdata","useSelector","Articles","data","setdata","selector","state","isLoading","getdata","get","headers","Authorization","token","then","res","localStorage","getItem","console","log","length","setTimeout","deleteitem","id","delete","display","gridTemplateColumns","map","elem","_id","alert"],"sources":["G:/RecoveroAssignment/frontend/src/components/Articles.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Nav from \"./Navbar\";\nimport Card from \"./Card\";\nimport Indarticle from \"./Indarticle\";\nimport { Grid, GridItem } from \"@chakra-ui/react\";\nimport { transdata } from \"./Navbar\";\nimport { useSelector } from \"react-redux\";\nfunction Articles() {\n\tconst [data, setdata] = useState([]);\n\tconst selector = useSelector((state) => state.data);\n\n\tconst isLoading = useSelector((state) => state.isLoading);\n\t//\n\tconst getdata = () => {\n\t\taxios\n\t\t\t.get(\"http://localhost:8080/blog\", {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `bearer ${token}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetdata([...res.data]);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\tgetdata();\n\t\tconsole.log(\"usefecct calling\");\n\t\tif (selector.length > 0) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetdata([...selector]);\n\t\t\t}, 500);\n\t\t}\n\t\tif (isLoading) {\n\t\t\tgetdata();\n\t\t}\n\t\n\t}, [selector, isLoading]);\n\n\tfunction deleteitem(id) {\n\t\taxios\n\t\t\t.delete(`http://localhost:8080/blogs/${id}`)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tgetdata();\n\t\t\t});\n\t}\n\n\tconst token = localStorage.getItem(\"token\");\n\treturn (\n\t\t<>\n\t\t\t{token ? (\n\t\t\t\t<>\n\t\t\t\t\t<Nav />\n\t\t\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: \"grid\", gridTemplateColumns: \"repeat(3,1fr)\" }}>\n\t\t\t\t\t\t{console.log(data)}\n\t\t\t\t\t\t{data.map((elem) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Indarticle\n\t\t\t\t\t\t\t\t\t{...elem}\n\t\t\t\t\t\t\t\t\tdeleteitem={deleteitem}\n\t\t\t\t\t\t\t\t\tkey={elem._id}\n\t\t\t\t\t\t\t\t\tgetdata={getdata}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* </div> */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\talert(\"please log in first\")\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Articles;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;;;;;AACA,SAASC,QAAT,GAAoB;EAAA;;EACnB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAMY,QAAQ,GAAGJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACH,IAAlB,CAA5B;EAEA,MAAMI,SAAS,GAAGN,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACC,SAAlB,CAA7B,CAJmB,CAKnB;;EACA,MAAMC,OAAO,GAAG,MAAM;IACrBjB,KAAK,CACHkB,GADF,CACM,4BADN,EACoC;MAClCC,OAAO,EAAE;QACRC,aAAa,EAAG,UAASC,KAAM;MADvB;IADyB,CADpC,EAMEC,IANF,CAMQC,GAAD,IAAS;MACdV,OAAO,CAAC,CAAC,GAAGU,GAAG,CAACX,IAAR,CAAD,CAAP;IACA,CARF;EASA,CAVD;;EAYAT,SAAS,CAAC,MAAM;IACf,MAAMkB,KAAK,GAAGG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;IACAR,OAAO;IACPS,OAAO,CAACC,GAAR,CAAY,kBAAZ;;IACA,IAAIb,QAAQ,CAACc,MAAT,GAAkB,CAAtB,EAAyB;MACxBC,UAAU,CAAC,MAAM;QAChBhB,OAAO,CAAC,CAAC,GAAGC,QAAJ,CAAD,CAAP;MACA,CAFS,EAEP,GAFO,CAAV;IAGA;;IACD,IAAIE,SAAJ,EAAe;MACdC,OAAO;IACP;EAED,CAbQ,EAaN,CAACH,QAAD,EAAWE,SAAX,CAbM,CAAT;;EAeA,SAASc,UAAT,CAAoBC,EAApB,EAAwB;IACvB/B,KAAK,CACHgC,MADF,CACU,+BAA8BD,EAAG,EAD3C,EAEET,IAFF,CAEQC,GAAD,IAAS;MACdG,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACX,IAAhB;MACAK,OAAO;IACP,CALF;EAMA;;EAED,MAAMI,KAAK,GAAGG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;EACA,oBACC;IAAA,UACEJ,KAAK,gBACL;MAAA,wBACC,QAAC,GAAD;QAAA;QAAA;QAAA;MAAA,QADD,eAGC;QACC,KAAK,EAAE;UAAEY,OAAO,EAAE,MAAX;UAAmBC,mBAAmB,EAAE;QAAxC,CADR;QAAA,WAEER,OAAO,CAACC,GAAR,CAAYf,IAAZ,CAFF,EAGEA,IAAI,CAACuB,GAAL,CAAUC,IAAD,IAAU;UACnB,oBACC,eAAC,UAAD,OACKA,IADL;YAEC,UAAU,EAAEN,UAFb;YAGC,GAAG,EAAEM,IAAI,CAACC,GAHX;YAIC,OAAO,EAAEpB,OAJV;YAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UAAA,EADD;UAQA;YACC;UACA;QACD,CAZA,CAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QAHD;IAAA,gBADK,GAuBLqB,KAAK,CAAC,qBAAD;EAxBP,iBADD;AA6BA;;GAxEQ3B,Q;UAESD,W,EAECA,W;;;KAJVC,Q;AA0ET,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}